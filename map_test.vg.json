{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 820,
  "height": 850,
  "data": {
    "url": "https://raw.githubusercontent.com/FIT3179/Vega-Lite/main/2_symbol_map/js/ne_110m_admin_0_countries.topojson",
    "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
  },
  "projection": {
    "type": "mercator",
    "scale": 160,           
    "center": [20, 60]
    },
  "layer": [
    {
      "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
    },
    {
      "data": {
        "values": [
          {"exchange":"NYSE","lat":40.7069,"lon":-74.0113,"marketCap":31600000000000},
        {"exchange":"NASDAQ","lat":40.76,"lon":-90.97,"marketCap":30600000000000},
        {"exchange":"Shanghai Stock Exchange","lat":31.2304,"lon":121.4737,"marketCap":7170000000000},
        {"exchange":"Japan Exchange Group","lat":35.6895,"lon":139.6917,"marketCap":6550000000000},
        {"exchange":"National Stock Exchange (India)","lat":19.0760,"lon":72.8777,"marketCap":5690000000000},
        {"exchange":"Euronext","lat":52.3676,"lon":4.9041,"marketCap":5440000000000},
        {"exchange":"HKEX","lat":22.2830,"lon":114.1588,"marketCap":4540000000000},
        {"exchange":"Shenzhen Stock Exchange","lat":22.5431,"lon":114.0579,"marketCap":4520000000000},
        {"exchange":"TMX Group (Toronto)","lat":55.6532,"lon":-99.3832,"marketCap":3550000000000},
        {"exchange":"Saudi Exchange (Tadawul)","lat":24.7136,"lon":46.6753,"marketCap":2700000000000}
        ]
      },
      "mark": {
            "type": "circle", 
            "opacity": 1},
      "encoding": {
        "longitude": {"field": "lon", "type": "quantitative"},
        "latitude": {"field": "lat", "type": "quantitative"},
        "size": {"field": "marketCap", "type": "quantitative", "scale": {"range": [500, 2000]}},
        "tooltip": [
          {"field": "exchange", "type": "nominal", "title": "Exchange"},
          {"field": "marketCap", "type": "quantitative", "title": "Market Cap", "format": "$,.2s"}
        ],
        "color": {"field": "marketCap","type": "quantitative","scale": {"scheme": "redblue"}}
      }
    }
  ]
}
